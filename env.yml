name: lsRL_cu128
channels:
  - conda-forge
dependencies:
  - python=3.9.23
  - pip
  - git
  - git-lfs

  # LMFlow mentions mpi4py; using OpenMPI is the least painful on Linux
  - openmpi
  - mpi4py

  # common scientific stack (CSLLM + Crystal-LSBO typically need these)
  - numpy
  - scipy
  - pandas
  - scikit-learn
  - tqdm
  - pyyaml
  - h5py

  # cryst/materials tooling (often needed for CIF/POSCAR workflows)
  - pymatgen
  - ase
  - spglib

  # build tools (help if anything needs to compile)
  - cmake
  - ninja

  - pip:
      # --- Install PyTorch CUDA 12.8 (cu128) FIRST (Blackwell/5090 requires CUDA>=12.8) ---
      # These pip "options" lines usually work because conda feeds them to pip like a requirements file.
      - --index-url https://download.pytorch.org/whl/cu128
      - torch
      - torchvision
      - torchaudio
      # Switch back to normal PyPI for the rest
      - --index-url https://pypi.org/simple

      # LLM / HF stack (CSLLM + LMFlow commonly depend on these)
      - transformers>=4.40
      - accelerate>=0.30
      - datasets>=2.18
      - peft>=0.10
      - sentencepiece
      - safetensors
      - huggingface_hub

      # UI / serving (CSLLM has a GUI script; Gradio is commonly used)
      - gradio>=4.0

      # BO / viz helpers often used with LSBO-style pipelines
      - optuna
      - scikit-optimize
      - umap-learn

